// #define WIFI_SSID "Bbox-46D5F041"
// #define WIFI_PASSWORD "sdS7RDTR33awhGKHAT"

#include <WiFi.h>
#include <WebServer.h>
#include "model.h"
#include "view.h"
#include "controller.h"

// Initialisation des objets
Model model;
View view;
Controller controller;

WebServer server(80);
const int LED_PIN = 26;

void sendJson() {
  // Fonction d'envoi de JSON
  // ...
}

void handlePOST() {
  // Fonction de gestion des demandes POST
  // ...
}

void setup() {
  Serial.begin(115200);
  pinMode(LED_PIN, OUTPUT);

  // Initialisation du modèle, de la vue et du contrôleur
  model.initialize();
  view.setup();

  // Configuration des routes Web
  server.on("/json", HTTP_GET, sendJson);
  server.on("/json", HTTP_POST, handlePOST);

  server.begin();
  Serial.println("HTTP server started");
}

void loop() {
  server.handleClient();
  controller.handleUserInput();
}
